{"version":3,"sources":["../../src/LazyLoad.js","../../src/LazyEarly.js","App.js","index.js"],"names":["LazyLoad","src","placeholder","alt","className","ref","useRef","placeholderSrc","srcImg","altImg","useEffect","lazyLoad","current","getAttribute","window","obServer","IntersectionObserver","entries","entry","isIntersecting","target","unobserve","removeAttribute","observe","windowHeight","innerHeight","imgLocation","getBoundingClientRect","top","addEventListener","scrollY","setAttribute","error","console","log","React","lazy-load","LazyEarly","early","earlyPx","onLoadEarly","removeEventListener","App","ReactDOM","render","document","getElementById"],"mappings":"8PAEaA,EAAW,SAAC,GAAyC,IAAvCC,EAAuC,EAAvCA,IAAKC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,UAC1CC,EAAMC,mBACNC,EAAiBL,GAAe,GAChCM,EAASP,GAAOM,EAChBE,EAASN,GAAO,MA2BtB,OA1BAO,qBAAU,WACR,IAAMC,EAAWN,EAAIO,QAAQC,aAAa,aAC1C,IACE,GAAI,yBAA0BC,OAAQ,CACpC,IAAMC,EAAW,IAAIC,sBAAqB,SAACC,GACzC,IAAMC,EAAQD,EAAQ,GAClBC,EAAMC,iBACRD,EAAME,OAAOnB,IAAMU,EACnBI,EAASM,UAAUH,EAAME,QACzBf,EAAIO,QAAQU,gBAAgB,iBAGhCP,EAASQ,QAAQlB,EAAIO,aAChB,CACL,IAAMY,EAAeV,OAAOW,YACtBC,EAAcrB,EAAIO,QAAQe,wBAAwBC,IAAM,IAC9Dd,OAAOe,iBAAiB,UAAU,WAC5Bf,OAAOgB,QAAUN,EAAeE,GAClCrB,EAAIO,QAAQmB,aAAa,MAAOpB,OAItC,MAAOqB,GACPC,QAAQC,IAAIF,MAEb,IAEDG,yBACE/B,UAAWA,EACXC,IAAKA,EACLJ,IAAKM,EACL6B,YAAW5B,EACXL,IAAKM,KCrCE4B,EAAY,SAAC,GAAgD,IAA9CpC,EAA8C,EAA9CA,IAAKC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,IAAKC,EAAuB,EAAvBA,UAAWkC,EAAY,EAAZA,MACtDjC,EAAMC,mBACNC,EAAiBL,GAAe,GAChCM,EAASP,GAAOM,EAChBE,EAASN,GAAO,MAChBoC,EAA0B,iBAATD,EAAoBA,EAAQ,IAenD,OAdA5B,qBAAU,WACR,IAAMC,EAAWN,EAAIO,QAAQC,aAAa,aACpCW,EAAeV,OAAOW,YACtBC,EAAcrB,EAAIO,QAAQe,wBAAwBC,IAAMW,EACxDC,EAAc,WACd1B,OAAOgB,QAAUN,EAAeE,GAClCrB,EAAIO,QAAQmB,aAAa,MAAOpB,IAIpC,OADAG,OAAOe,iBAAiB,SAAUW,GAC3B,WACL1B,OAAO2B,oBAAoB,SAAUD,MAEtC,IAEDL,yBACE/B,UAAWA,EACXC,IAAKA,EACLJ,IAAKM,EACL6B,YAAW5B,EACXL,IAAKM,KCWIiC,G,KAlCH,WACV,OACE,6BACE,yBAAKtC,UAAU,QACb,0CAEF,kBAAC,EAAD,CAAUH,IAAI,mCACd,yBAAKG,UAAU,QACb,yCACA,qDAEF,kBAAC,EAAD,CACEH,IAAI,iCACJG,UAAU,YACVD,IAAI,YAEN,yBAAKC,UAAU,QACb,yCACA,6EAEF,kBAAC,EAAD,CACEH,IAAI,iCACJG,UAAU,YACVF,YAAY,uCACZC,IAAI,cAEN,yBAAKC,UAAU,QACb,yCADF,IACqB,6EAErB,kBAAC,EAAD,CAAWH,IAAI,iCAAiCqC,MAAO,WC5B7DK,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.455b2209.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react'\r\n\r\nexport const LazyLoad = ({ src, placeholder, alt, className }) => {\r\n  const ref = useRef()\r\n  const placeholderSrc = placeholder || ''\r\n  const srcImg = src || placeholderSrc\r\n  const altImg = alt || 'img'\r\n  useEffect(() => {\r\n    const lazyLoad = ref.current.getAttribute('lazy-load')\r\n    try {\r\n      if ('IntersectionObserver' in window) {\r\n        const obServer = new IntersectionObserver((entries) => {\r\n          const entry = entries[0]\r\n          if (entry.isIntersecting) {\r\n            entry.target.src = lazyLoad\r\n            obServer.unobserve(entry.target)\r\n            ref.current.removeAttribute('lazy-load')\r\n          }\r\n        })\r\n        obServer.observe(ref.current)\r\n      } else {\r\n        const windowHeight = window.innerHeight\r\n        const imgLocation = ref.current.getBoundingClientRect().top - 200\r\n        window.addEventListener('scroll', function () {\r\n          if (window.scrollY + windowHeight > imgLocation) {\r\n            ref.current.setAttribute('src', lazyLoad)\r\n          }\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }, [])\r\n  return (\r\n    <img\r\n      className={className}\r\n      ref={ref}\r\n      src={placeholderSrc}\r\n      lazy-load={srcImg}\r\n      alt={altImg}\r\n    />\r\n  )\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\n\r\nexport const LazyEarly = ({ src, placeholder, alt, className, early }) => {\r\n  const ref = useRef()\r\n  const placeholderSrc = placeholder || ''\r\n  const srcImg = src || placeholderSrc\r\n  const altImg = alt || 'img'\r\n  const earlyPx = typeof early == 'number' ? early : 200\r\n  useEffect(() => {\r\n    const lazyLoad = ref.current.getAttribute('lazy-load')\r\n    const windowHeight = window.innerHeight\r\n    const imgLocation = ref.current.getBoundingClientRect().top - earlyPx\r\n    const onLoadEarly = () => {\r\n      if (window.scrollY + windowHeight > imgLocation) {\r\n        ref.current.setAttribute('src', lazyLoad)\r\n      }\r\n    }\r\n    window.addEventListener('scroll', onLoadEarly)\r\n    return () => {\r\n      window.removeEventListener('scroll', onLoadEarly)\r\n    }\r\n  }, [])\r\n  return (\r\n    <img\r\n      className={className}\r\n      ref={ref}\r\n      src={placeholderSrc}\r\n      lazy-load={srcImg}\r\n      alt={altImg}\r\n    />\r\n  )\r\n}\r\n","import React from 'react'\n\nimport { LazyLoad, LazyEarly } from 'lazy-load-kle'\nimport 'lazy-load-kle/dist/index.css'\n\nconst App = () => {\n  return (\n    <div>\n      <div className='test'>\n        <h1>Lazy load</h1>\n      </div>\n      <LazyLoad src='https://picsum.photos/1280/720' />\n      <div className='test'>\n        <h1>Lazy load</h1>\n        <p>Add class for img tag</p>\n      </div>\n      <LazyLoad\n        src='https://picsum.photos/1280/721'\n        className='img_class'\n        alt='img-two'\n      />\n      <div className='test'>\n        <h1>Lazy load</h1>\n        <p>Use placeholder image for a better experience</p>\n      </div>\n      <LazyLoad\n        src='https://picsum.photos/1280/722'\n        className='img_class'\n        placeholder='https://via.placeholder.com/1280x720'\n        alt='img-three'\n      />\n      <div className='test'>\n        <h1>Lazy load</h1> <p>Preloaded img with dependence(default: 200px)</p>\n      </div>\n      <LazyEarly src='https://picsum.photos/1280/723' early={'abc'} />\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}